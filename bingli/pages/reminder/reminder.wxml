<!--pages/reminder/reminder.wxml-->
<view class="reminder-container">
  <!-- é¡¶éƒ¨æ ‡ç­¾æ  -->
  <view class="tab-bar">
    <view 
      wx:for="{{tabs}}" 
      wx:key="index"
      class="tab-item {{activeTab === index ? 'active' : ''}}"
      data-index="{{index}}"
      bindtap="onTabChange"
    >
      {{item}}
    </view>
  </view>

  <!-- æ·»åŠ æŒ‰é’® -->
  <view class="add-btn" bindtap="onAddReminder">
    <text class="add-icon">+</text>
    <text>æ·»åŠ æé†’</text>
  </view>

  <!-- ä»Šæ—¥æé†’ -->
  <view wx:if="{{activeTab === 0}}" class="reminder-list">
    <view wx:if="{{todayReminders.length === 0}}" class="empty-state">
      <text class="empty-icon">ğŸ“…</text>
      <text class="empty-text">ä»Šæ—¥æš‚æ— æé†’</text>
    </view>
    <view 
      wx:for="{{todayReminders}}" 
      wx:key="id"
      class="reminder-item today"
      data-id="{{item.id}}"
      bindtap="onReminderTap"
    >
      <view class="reminder-content">
        <view class="reminder-header">
          <text class="reminder-title">{{item.title}}</text>
          <text class="reminder-type {{item.type}}">
            {{item.type === 'medicine' ? 'ğŸ’Š' : 'ğŸ¥'}}
          </text>
        </view>
        <view class="reminder-info">
          <text class="reminder-time">{{item.time}}</text>
          <text class="reminder-member">{{item.member}}</text>
        </view>
        <view wx:if="{{item.description}}" class="reminder-desc">
          {{item.description}}
        </view>
      </view>
      <view class="reminder-actions">
        <button 
          class="complete-btn"
          data-id="{{item.id}}"
          bindtap="onCompleteReminder"
          catchtap
        >
          å®Œæˆ
        </button>
      </view>
    </view>
  </view>

  <!-- å³å°†åˆ°æ¥çš„æé†’ -->
  <view wx:if="{{activeTab === 1}}" class="reminder-list">
    <view wx:if="{{upcomingReminders.length === 0}}" class="empty-state">
      <text class="empty-icon">â°</text>
      <text class="empty-text">æš‚æ— å³å°†åˆ°æ¥çš„æé†’</text>
    </view>
    <view 
      wx:for="{{upcomingReminders}}" 
      wx:key="id"
      class="reminder-item upcoming"
      data-id="{{item.id}}"
      bindtap="onReminderTap"
    >
      <view class="reminder-content">
        <view class="reminder-header">
          <text class="reminder-title">{{item.title}}</text>
          <text class="reminder-type {{item.type}}">
            {{item.type === 'medicine' ? 'ğŸ’Š' : 'ğŸ¥'}}
          </text>
        </view>
        <view class="reminder-info">
          <text class="reminder-datetime">{{item.date}} {{item.time}}</text>
          <text class="reminder-member">{{item.member}}</text>
        </view>
        <view wx:if="{{item.description}}" class="reminder-desc">
          {{item.description}}
        </view>
      </view>
    </view>
  </view>

  <!-- å…¨éƒ¨æé†’ -->
  <view wx:if="{{activeTab === 2}}" class="reminder-list">
    <view wx:if="{{reminders.length === 0}}" class="empty-state">
      <text class="empty-icon">ğŸ“‹</text>
      <text class="empty-text">æš‚æ— æé†’è®°å½•</text>
    </view>
    <view 
      wx:for="{{reminders}}" 
      wx:key="id"
      class="reminder-item all"
      data-id="{{item.id}}"
      bindtap="onReminderTap"
    >
      <view class="reminder-content">
        <view class="reminder-header">
          <text class="reminder-title">{{item.title}}</text>
          <text class="reminder-type {{item.type}}">
            {{item.type === 'medicine' ? 'ğŸ’Š' : 'ğŸ¥'}}
          </text>
        </view>
        <view class="reminder-info">
          <text class="reminder-datetime">{{item.date}} {{item.time}}</text>
          <text class="reminder-member">{{item.member}}</text>
        </view>
        <view wx:if="{{item.description}}" class="reminder-desc">
          {{item.description}}
        </view>
        <view class="reminder-status {{item.status}}">
          {{item.status === 'completed' ? 'å·²å®Œæˆ' : 'å¾…å®Œæˆ'}}
        </view>
      </view>
    </view>
  </view>
</view> 